<template>
	<div class="body-avatar">
		<ButtonSec
			id="rotate"
			type="text"
			size="small"
			label="Rotate"
			iconName="rotate"
			class="rotate-btn"
			:iconLeft="true"
			@click="rotateAvatar"
		/>
		<div v-if="view === 'front'" class="body-avatar__front">
			<img src="@/assets/images/female-front-view.png" alt="" class="body__image" />

			<svg
				width="280"
				height="619"
				viewBox="0 0 280 619"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
				class="body__parts"
				ref="avatar"
			>
				<g class="part" id="head" @click="getPart($event)">
					<path
						d="M139.625 0.847656C118.774 0.847656 114.753 22.3815 117.058 39.6244C117.879 44.0746 119.474 53.3402 119.283 54.8017C119.468 57.1322 120.587 62.2264 122.223 64.8923C124.368 68.3885 129.769 74.2686 140.737 74.507C150.701 74.7236 154.957 69.3631 157.44 66.2361C157.69 65.9219 157.921 65.6302 158.139 65.369C160.114 62.166 160.655 58.8194 160.965 56.8957C161.117 55.9562 161.214 55.3561 161.397 55.2776C161.015 52.544 162.626 44.0787 163.5 40L163.542 39.6244C167.515 7.44226 151.305 0.847576 139.625 0.847656Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="eye" @click="getPart($event)">
					<path
						d="M152.071 27.5C156.571 27.5 159.719 30.4459 160.571 33C161.572 36 158.072 39 151.572 39C146.372 39 144.526 37 144.071 34.5C143.526 31.5 146.071 27.5 152.071 27.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="eye" @click="getPart($event)">
					<path
						d="M129.499 27.5C124.999 27.5 121.851 30.4459 120.999 33C119.998 36 123.498 39 129.998 39C135.198 39 137.045 37 137.499 34.5C138.045 31.5 135.499 27.5 129.499 27.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="nose" @click="getPart($event)">
					<path
						d="M136.997 50C132.497 49 132.999 44.5 136.5 42.5C137.001 41 136.999 30.5 140.499 30.5C143.999 30.5 143.499 39.5 144.499 42.5C147.498 44.5 148.498 48.8748 143.997 50C140.797 50.8 138.33 50.3333 136.997 50Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ear" @click="getPart($event)">
					<path
						d="M163.861 39.6258C163.607 39.8806 163.543 39.732 163.543 39.6258C162.669 43.7045 161.017 52.5454 161.398 55.2789C162.669 57.5038 164.418 55.2789 164.974 53.6897C165.292 53.1335 165.848 52.8951 166.881 49.2399C167.914 45.5847 167.755 40.6582 167.755 39.6258C167.755 38.5934 166.722 37.7976 166.007 37.6387C165.292 37.4798 164.179 39.3074 163.861 39.6258Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ear" @click="getPart($event)">
					<path
						d="M116.344 54.8017C117.743 57.0902 118.887 55.7553 119.284 54.8017C119.475 53.3403 117.88 44.0746 117.059 39.6245C116.582 39.7039 115.629 37.6382 114.358 37.6382C112.371 37.5588 112.45 40.5783 112.848 45.9021C113.245 51.226 115.311 53.292 116.344 54.8017Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="mouth" @click="getPart($event)">
					<path
						d="M140.498 51.5C137 51.4994 131.855 53 128.997 57C126.496 60.5 127.994 65.5 128.497 71C135.498 76.5 147 76.5 152.498 71C153 67 154.998 61 151.998 57C149.029 53.0413 144.18 51.5006 140.498 51.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="neck" @click="getPart($event)">
					<path
						d="M122.146 64.6562C125.245 75.9397 124.768 88.0167 121.828 92.0692C124.927 93.8174 131.999 97.7904 140.899 97.7904C150.196 97.7904 156.552 93.1022 158.221 91.6719C153.93 85.2356 157.744 67.1981 158.142 65.3705C154.804 69.3435 151.387 74.5084 140.899 74.5084C130.807 74.5084 124.45 68.8686 122.146 64.6562Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hand" @click="getPart($event)">
					<path
						d="M236.648 281.581C236.489 280.389 236.648 277.211 233.867 272.681C236.092 270.297 242.528 265.609 248.488 265.689C250.951 269.662 255.639 270.572 259.374 271.807C267.257 274.413 266.367 274.826 271.134 277.767C274.44 279.483 275.028 279.515 276.061 280.786C278.985 283.901 279.716 283.964 279.954 286.269C279.954 287.54 279.525 287.826 278.127 288.017C276.728 288.208 275.054 287.832 274.392 287.62C270.737 286.348 269.942 283.964 266.367 283.09C265.272 282.823 263.638 282.958 262.95 283.09C262.568 283.98 263.744 285.554 264.062 287.222C264.825 289.511 266.684 290.401 267.002 296.281C267.241 298.744 268.671 298.982 270.34 308.2C270.737 311.061 272.406 317.974 271.531 319.325C271.373 320.278 271.293 320.914 270.101 321.152C269.307 321.311 268.644 320.649 268.512 320.278C266.605 319.165 266.843 315.51 263.665 307.644C263.347 306.134 262.499 304.492 262.235 303.75C261.599 302.399 261.758 300.413 260.725 300.174C260.672 300.492 260.598 301.382 260.725 302.399C260.884 303.671 262.314 307.167 262.632 309.471C263.585 311.442 264.83 316.649 265.334 319.007C265.651 321.486 267.558 325.522 266.128 327.588C266.287 327.959 265.89 328.726 265.175 328.86C264.301 329.024 263.506 328.621 263.347 327.986C261.281 327.032 260.407 320.914 260.089 319.801C259.771 318.689 258.262 314.318 257.785 313.285C257.308 312.252 256.513 309.71 256.196 308.2C255.878 306.69 254.924 303.671 254.686 303.114C254.13 302.876 254.289 303.114 254.289 304.386C254.67 305.53 255.242 307.829 255.48 308.836C256.307 312.332 256.196 313.683 256.911 317.974C257.785 320.914 258.659 324.648 257.229 325.999C257.202 326.317 257.117 326.969 256.355 327.032C255.401 327.112 255.083 326.635 254.924 325.999C254.161 325.681 253.017 322.741 252.699 321.152C252.381 320.198 252.54 318.45 251.825 317.576C251.635 318.212 251.375 318.424 251.269 318.45C251.428 319.642 249.441 320.04 249.124 318.768C248.17 318.053 247.296 315.034 246.74 313.921C246.184 312.809 245.31 311.855 245.071 311.219C244.817 309.503 243.005 305.101 242.131 303.114C238.953 297.155 240.887 301.287 239.509 292.626C238.953 289.129 236.807 282.773 236.648 281.581Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="arm" @click="getPart($event)">
					<path
						d="M206.93 220.397C205.04 215.14 204.186 209.997 202.48 204.028C206.851 205.22 216.148 205.22 224.809 199.102C226.557 203.472 229.815 207.842 233.073 217.298C238.468 232.957 238.794 248.447 248.488 265.69C242.068 265.817 236.066 270.404 233.867 272.682C230.816 264.736 217.419 245.507 213.128 233.667C210.569 228.549 208.386 224.448 206.93 220.397Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="arm" @click="getPart($event)">
					<path
						d="M194.296 99.7752C192.866 98.7422 188.5 96.499 185 96.499C185.5 102.999 186 109.999 186 115.5C186 122.535 182.5 128.5 182.5 132.5C182.5 143 189 147.5 187.463 160.96C188.655 163.82 190.403 168.349 192.31 174.309C194.217 180.269 197.475 187.42 199.541 192.585C201.607 197.75 201.925 200.531 202.401 204.027C211.492 206.379 221.128 201.723 224.809 199.101C224.226 197.909 222.775 194.746 221.631 191.631C219.406 183.94 211.804 159.291 208.281 147.928C206.772 143.081 207.328 134.022 203.673 120.514C201.845 105.973 195.727 100.808 194.296 99.7752Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hand" @click="getPart($event)">
					<path
						d="M44.1134 281.741C44.2723 280.549 44.1134 277.371 46.8945 272.842C44.6696 270.457 38.2333 265.769 32.2738 265.849C29.8105 269.822 25.1223 270.732 21.3877 271.967C13.5052 274.573 14.3952 274.987 9.62752 277.927C6.32196 279.643 5.73395 279.675 4.70096 280.946C1.77681 284.061 1.04578 284.125 0.807392 286.429C0.807392 287.7 1.23648 287.986 2.63499 288.177C4.03349 288.368 5.70746 287.992 6.36963 287.78C10.0248 286.508 10.8194 284.125 14.3952 283.251C15.4894 282.983 17.1233 283.118 17.812 283.251C18.1934 284.14 17.0174 285.714 16.6995 287.382C15.9367 289.671 14.0773 290.561 13.7595 296.441C13.5211 298.904 12.0908 299.143 10.4221 308.36C10.0248 311.221 8.35615 318.134 9.23021 319.485C9.38914 320.438 9.4686 321.074 10.6605 321.312C11.4551 321.471 12.1173 320.809 12.2497 320.438C14.1568 319.326 13.9184 315.67 17.0968 307.804C17.4147 306.294 18.2622 304.652 18.5271 303.91C19.1628 302.559 19.0039 300.573 20.0369 300.335C20.0898 300.652 20.164 301.542 20.0369 302.559C19.8779 303.831 18.4476 307.327 18.1298 309.631C17.1763 311.602 15.9314 316.809 15.4281 319.167C15.1103 321.646 13.2032 325.682 14.6335 327.748C14.4746 328.119 14.8719 328.886 15.5871 329.02C16.4611 329.184 17.2557 328.781 17.4147 328.146C19.4806 327.192 20.3547 321.074 20.6725 319.961C20.9904 318.849 22.5001 314.479 22.9769 313.446C23.4537 312.413 24.2483 309.87 24.5661 308.36C24.8839 306.85 25.8375 303.831 26.0759 303.275C26.6321 303.036 26.4732 303.275 26.4732 304.546C26.0918 305.69 25.5196 307.989 25.2813 308.996C24.4549 312.492 24.5661 313.843 23.851 318.134C22.9769 321.074 22.1028 324.808 23.5331 326.159C23.5596 326.477 23.6444 327.129 24.4072 327.192C25.3607 327.272 25.6786 326.795 25.8375 326.159C26.6003 325.841 27.7445 322.901 28.0624 321.312C28.3802 320.359 28.2213 318.61 28.9364 317.736C29.1271 318.372 29.3867 318.584 29.4927 318.61C29.3337 319.803 31.3203 320.2 31.6381 318.928C32.5916 318.213 33.4657 315.194 34.0219 314.081C34.5781 312.969 35.4522 312.015 35.6906 311.38C35.9449 309.663 37.7566 305.261 38.6306 303.275C41.8091 297.315 39.8749 301.447 41.2528 292.786C41.8091 289.29 43.9545 282.933 44.1134 281.741Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="arm" @click="getPart($event)">
					<path
						d="M73.4344 220.475C75.3242 215.218 76.0993 210.155 77.8047 204.186C72.8781 205.537 64.2964 205.06 55.6352 198.941C53.4897 203.312 50.6292 207.841 47.3713 217.297C41.9762 232.956 41.968 248.604 32.2738 265.847C38.6942 265.974 44.6961 270.562 46.8945 272.84C49.9458 264.894 63.3429 245.664 67.6337 233.825C70.1927 228.707 71.9782 224.526 73.4344 220.475Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="arm" @click="getPart($event)">
					<path
						d="M86.4653 99.6959C87.8955 98.5036 91.4968 96.4974 95.9968 96.4995C96.392 101.029 93.9992 107 93.9992 114C93.9992 121 97.4994 125.5 97.9995 133C98.4996 140.5 92.4963 146 93.4578 159.689C92.9016 160.006 89.9742 168.85 87.975 174.309C85.9091 179.951 82.8896 187.659 80.8236 192.824C78.7576 197.989 78.6781 200.77 77.8041 204.266C68.7138 206.618 59.3162 201.644 55.6345 199.022C56.2172 197.83 57.5098 194.747 58.654 191.632C60.8789 183.94 68.2423 161.278 71.765 149.915C73.1159 144.432 73.1159 134.261 76.7711 120.753C78.9165 104.622 85.1101 100.826 86.4653 99.6959Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="chest" @click="getPart($event)">
					<path
						d="M95.9947 96.5C109.995 98 118.829 93.8333 121.996 92C138.996 102 152.996 96.5 157.996 91.5C163.496 96.5 183.496 96.5 184.996 96.5C185.163 97.4989 185.324 100.358 185.553 104.429C185.677 106.632 185.82 109.19 185.996 112C186.694 117.581 185.035 123.026 183.744 127.261C183.344 128.575 182.98 129.772 182.731 130.821C182.678 131.326 182.611 131.837 182.529 132.354C182.338 135.93 183.6 139.601 184.941 143.497C187.502 150.94 190.347 159.209 183.879 169.223C181.099 175.898 169.259 180.586 155.035 167.475C153.25 166.098 151.723 164.579 150.428 162.955C149.724 162.483 143.67 158.5 139.996 158.5C136.219 158.5 130.86 162.71 130.514 162.986C129.224 164.599 127.704 166.108 125.929 167.478C111.706 180.589 99.8663 175.901 97.0854 169.226C90.591 159.17 93.2952 150.938 95.7341 143.513C96.9954 139.674 98.1876 136.548 97.998 133C97.7474 128.309 96.6114 125.678 95.6606 122.699C94.7586 119.874 93.9587 117.368 93.9933 114.5C93.9943 110.641 94.5936 107.374 95.1394 104.398C95.6544 101.59 96.1218 99.0421 95.9947 96.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="breast" @click="getPart($event)">
					<path
						d="M155.039 167.477C140.419 156.193 143.084 135.454 149.477 124.647C163.5 98.5015 186 110.501 182.533 132.355C181.976 142.764 193.736 153.968 183.883 169.225C181.102 175.9 169.263 180.588 155.039 167.477Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="breast" @click="getPart($event)">
					<path
						d="M125.933 167.477C140.554 156.193 137.889 135.454 131.496 124.647C117 100.143 96.3472 108.345 98 132.501C98.5562 142.91 87.2362 153.968 97.0893 169.225C99.8702 175.9 111.71 180.588 125.933 167.477Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="upper abdomen" @click="getPart($event)">
					<path
						d="M101.168 195.683C100.271 184.744 97.5 179 97 169C104.287 182.04 120.5 174 130.5 162.998C130.5 162.998 136 158.5 140 158.5C144 158.5 150.5 162.997 150.5 162.997C158.5 172 175.5 183 184 169C183.444 173.37 179.834 189.961 179.436 196.557C179.34 198.154 178.403 204.794 178.006 207.92C169.239 206.065 150.227 203.788 140.819 203.788C131.41 203.788 111.153 206.065 102.598 207.92C102.201 204.662 101.565 200.53 101.168 195.683Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="middle abdomen" @click="getPart($event)">
					<path
						d="M101.007 232.952C103.47 227.311 104.821 223.497 102.596 207.922C109.88 206.519 127.578 203.711 140.101 203.711C152.624 203.711 170.641 206.519 178.083 207.922C178.083 211.419 176.574 217.934 176.891 223.576C177.138 227.946 180.944 235.257 183.01 241.137C174.031 244.209 152.878 250.354 140.101 250.354C127.324 250.354 106.595 244.209 97.8281 241.137C98.2095 240.183 100.106 235.283 101.007 232.952Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower abdomen" @click="getPart($event)">
					<path
						d="M90.5999 269.027C91.315 262.273 95.6028 247.573 97.7483 241.137C138.988 254.248 145.981 252.261 183.009 241.137C186.668 250.036 190.879 273.159 192.151 279.437C181.741 274.749 168.869 280.788 160.684 284.761C146.379 291.705 138.991 291.356 120.477 284.761C114.712 282.707 99.6584 273.398 88.375 279.437C88.6928 278.006 90.1262 271.411 90.5999 269.027Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="genital" @click="getPart($event)">
					<path
						d="M140.342 310.267C131.601 310.267 131.443 296.759 119.523 284.363C137.561 291.038 145.984 292.15 161.002 284.602C149.877 295.885 148.844 310.267 140.342 310.267Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="thigh" @click="getPart($event)">
					<path
						d="M194.549 352.536C198.299 315.539 198.76 308.833 192.324 279.353C187.159 276.335 176.511 276.176 160.937 284.597C151.592 294.323 146.925 307.642 145.839 313.125C145.045 332.037 149.448 343.082 151.481 356.429C153.865 372.083 152.435 398.784 155.136 421.907C159.93 421.43 171.807 414.755 177.941 414.755C183.822 414.755 187.344 417.589 188.43 418.967C190.337 409.829 190.576 401.404 190.655 397.511C190.719 394.396 193.277 366.23 194.549 352.536Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="thigh" @click="getPart($event)">
					<path
						d="M86.1507 352.536C82.4001 315.539 81.9391 308.833 88.3756 279.353C93.5403 276.335 104.188 276.176 119.762 284.597C129.107 294.323 133.774 307.642 134.86 313.125C135.654 332.037 131.251 343.082 129.218 356.429C126.834 372.083 128.265 398.784 125.563 421.907C120.769 421.43 108.893 414.755 102.758 414.755C96.8777 414.755 93.3549 417.589 92.269 418.967C90.3619 409.829 90.1235 401.404 90.0441 397.511C89.9805 394.396 87.422 366.23 86.1507 352.536Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="knee" @click="getPart($event)">
					<path
						d="M187.301 428.663C187.539 424.769 187.699 423.26 188.414 418.969C186.189 415.949 180.865 414.202 176.574 414.837C169.424 415.895 161.366 420.764 155.12 421.909C155.755 432.715 157.938 436.665 158.616 440.344C159.172 443.363 159.172 448.846 159.172 451.389C163.94 458.381 177.289 458.063 189.129 451.389C188.652 445.032 186.903 441.937 186.903 437.801C186.903 434.622 187.15 431.126 187.301 428.663Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="knee" @click="getPart($event)">
					<path
						d="M93.3789 428.663C93.1405 424.769 92.9811 423.26 92.2659 418.969C94.4908 415.949 99.8147 414.202 104.106 414.837C111.255 415.895 119.314 420.764 125.56 421.909C124.924 432.715 122.741 436.665 122.064 440.344C121.507 443.363 121.507 448.846 121.507 451.389C116.74 458.381 103.39 458.063 91.5508 451.389C92.0275 445.032 93.7762 441.937 93.7764 437.801C93.7765 434.622 93.5297 431.126 93.3789 428.663Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower leg" @click="getPart($event)">
					<path
						d="M189.694 470.934C189.614 464.259 190.25 459.412 189.137 451.387C172.21 460.763 161.408 455.36 159.183 451.387C158.944 461.24 157.196 463.226 157.355 476.258C157.991 488.098 162.917 510.267 164.427 523.934C165.698 530.212 167.129 539.747 166.811 551.587C171.42 552.54 180.875 554.924 183.577 551.587C185.166 526.874 188.98 515.273 189.694 490.084C190.251 484.76 189.695 476.735 189.694 470.934Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower leg" @click="getPart($event)">
					<path
						d="M90.9979 470.934C91.0774 464.259 90.4417 459.412 91.5541 451.387C108.481 460.763 119.284 455.36 121.509 451.387C121.747 461.24 123.495 463.226 123.336 476.258C122.701 488.098 117.774 510.267 116.264 523.934C114.993 530.212 113.563 539.747 113.88 551.587C109.272 552.54 99.816 554.924 97.1143 551.587C95.5251 526.874 91.711 515.273 90.9979 490.084C90.4407 484.76 90.9968 476.735 90.9979 470.934Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ankle" @click="getPart($event)">
					<path
						d="M183.578 556.437V551.59C180.717 554.927 170.546 552.305 166.812 551.59C166.891 555.642 164.905 559.695 165.302 563.986C165.54 566.56 167.13 567.323 167.447 572.647C171.421 568.038 181.828 569.23 183.973 570.104C183.655 568.674 184.61 565.654 184.451 563.668C184.339 562.268 183.578 559.218 183.578 556.437Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ankle" @click="getPart($event)">
					<path
						d="M97.1133 556.437V551.59C99.974 554.927 110.145 552.305 113.88 551.59C113.8 555.642 115.787 559.695 115.389 563.986C115.151 566.56 113.562 567.323 113.244 572.647C109.271 568.038 98.8638 569.23 96.7184 570.104C97.0362 568.674 96.0817 565.654 96.2407 563.668C96.3527 562.268 97.1133 559.218 97.1133 556.437Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="foot" @click="getPart($event)">
					<path
						d="M192.637 589.174C191.048 585.677 185.009 573.361 183.976 570.103C175.156 567.719 168.481 570.925 167.369 572.726C167.369 573.547 167.44 575.189 167.369 576.937C167.13 582.737 168.878 583.611 169.673 585.28C170.278 586.551 170.07 589.015 170.944 592.273C171.785 595.406 170.944 599.662 171.818 603.715C172.009 605.686 173.964 609.516 174.361 610.31C174.917 611.423 174.6 614.522 176.427 616.747C176.93 617.488 178.62 618.908 181.354 618.654C184.087 618.399 184.823 616.323 184.85 615.316C185.009 616.058 185.883 617.478 188.108 617.223C190.333 616.969 190.412 615.051 190.174 614.124C192.478 615.714 194.624 613.171 194.147 611.741C196.849 611.423 196.849 609.913 196.849 608.959C197.643 608.88 198.914 608.721 199.312 607.132C200.186 603.159 197.484 600.457 197.007 599.583C196.53 598.709 194.226 592.67 192.637 589.174Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="foot" @click="getPart($event)">
					<path
						d="M88.0584 589.174C89.6477 585.677 95.6867 573.361 96.7196 570.103C105.54 567.719 112.214 570.925 113.327 572.726C113.327 573.547 113.255 575.189 113.327 576.937C113.565 582.737 111.817 583.611 111.022 585.28C110.417 586.551 110.625 589.015 109.751 592.273C108.91 595.406 109.751 599.662 108.877 603.715C108.686 605.686 106.731 609.516 106.334 610.31C105.778 611.423 106.096 614.522 104.268 616.747C103.765 617.488 102.075 618.908 99.3416 618.654C96.6082 618.399 95.8718 616.323 95.8453 615.316C95.6864 616.058 94.8124 617.478 92.5875 617.223C90.3626 616.969 90.2831 615.051 90.5215 614.124C88.2171 615.714 86.0717 613.171 86.5485 611.741C83.8468 611.423 83.8468 609.913 83.8468 608.959C83.0522 608.88 81.7808 608.721 81.3838 607.132C80.5097 603.159 83.2114 600.457 83.6881 599.583C84.1649 598.709 86.4692 592.67 88.0584 589.174Z"
						fill="#197FA0"
					/>
				</g>
			</svg>

			<SearchDropDown
				v-if="view === 'front' && deviceWidth > 600"
				:list="symptomNames"
				:isDropOpen="showList"
				:absPos="listPos"
				:is-loading="isloading"
				:partName="selectedPart"
				v-model:search-input="searchQuery"
				@selected-value="selectedSymptom"
				@focused="setFocus"
			/>
		</div>
		<div v-if="view === 'rare'" class="body-avatar__back">
			<img src="@/assets/images/female-rare-view.png" alt="" class="body__image" />

			<svg
				width="252"
				height="601"
				viewBox="0 0 252 601"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
				class="body__parts"
				ref="avatar"
			>
				<g class="part" id="head" @click="getPart($event)">
					<path
						d="M105.002 58.5C105.002 61 105.502 68 109.002 73C108.503 56 117.503 51 126.003 51C134.503 51 144.003 58 143.003 73C146 68 147.337 59 147.003 58C146.503 56.5 148.997 44 149.997 40.5C147.991 39 157.502 0.499562 126.002 0.5C96 0.500417 102.002 39 102.002 40.5C103.002 41.5 105.002 56 105.002 58.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ear" @click="getPart($event)">
					<path
						d="M152.997 38C151.497 38 150.497 40.5 149.997 40.5C149.5 42 146.499 54.5 146.997 58C147.164 58.3333 147.5 59 148.497 59C149.497 59 150.16 57.0115 150.494 56.0087L150.497 56C151.497 53.5 152.997 51.5 153.497 48.5C154.694 41.3189 154.497 38 152.997 38Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ear" @click="getPart($event)">
					<path
						d="M99 38C100.5 38 101.38 40.5 101.99 40.5C102.599 40.5 105 53.5 105 58C104.833 58.3333 104.497 59 103.5 59C102 59 101.333 56 101 55C100 52.5 99 51 98.5 48C97.4832 41.8995 97.5 38 99 38Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="neck" @click="getPart($event)">
					<path
						d="M101 91C111.5 88 108.5 81.5 109 73C108.5 56.5 117 51 125.5 51C134.19 51 144 57 143 73L142.986 73.2215C142.309 84.0539 142.061 88.0202 151 91C145 89.5 130.5 89.5 125.5 89.5C120 89.5 110.5 89 101 91Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="upper back" @click="getPart($event)">
					<path
						d="M76.0005 124.499C74.5005 113.499 77.5 103 80.5 95C90.9984 94.0004 97.5 92 101.026 90.9917C109 88.9999 121.526 89.4995 126.526 89.4917C133.359 89.4917 147.826 89.7917 151.026 90.9917C155.026 92.4917 165.526 94.9917 170.526 94.9917C174.526 103.492 177.2 111.041 176.026 122.492C175 132.5 172 137.5 171.026 141.492C160.526 141.992 139.526 132.992 125.026 132.992C111.526 132.992 91.526 140.492 81.026 140.492C80.0254 139.158 77.2005 133.299 76.0005 124.499Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="middle back" @click="getPart($event)">
					<path
						d="M81.4986 154.996C81.4979 149.496 80.5008 146.996 80.9986 140.496C90.9974 140.496 110 132.996 125 132.996C143 132.996 153 140.501 171 141.496C171.333 142.996 171.8 146.696 171 149.496C170 152.996 170.5 157.496 170.5 160.996C170.5 163.796 169.5 170.833 169 174C169 180 165.5 189.996 165 198.996C154.833 198.329 132.8 196.996 126 196.996C117.5 196.996 89.5 198.996 87 198.996C87 196.996 85 185.996 83.5 179.496C82 172.996 83.0002 169.496 82.0002 164.996C81.2002 161.396 81.3324 156.829 81.4986 154.996Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower back" @click="getPart($event)">
					<path
						d="M89.5 227C89.9 220.2 88 205.5 87 199C97.8333 198.167 121 197 127 197C133 197 154.833 198.167 165 199C164 206.667 162 223 162 227C162 231 163.667 234.667 164.5 236C154.667 236.833 140.01 248.5 127 248.5C113.5 248.5 97.6667 236.833 87 236C87.6667 234.5 89.1 230.6 89.5 227Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="upper arm" @click="getPart($event)">
					<path
						d="M176 125C176.5 122.5 177.5 110 170.5 95C193 97.5 192 123.5 197 149.5C198.912 159.445 207.5 182.5 209.5 193.5C207.5 196.5 198.1 200.8 188.5 198C186.5 190 178 168.5 171 149.5V140.5C172.5 138 175.5 127.5 176 125Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="upper arm" @click="getPart($event)">
					<path
						d="M76 125C75.5 122.5 74.5 110 81.5 95C59 97.5 60 123.5 55 149.5C53.0875 159.445 44.5 182.5 42.5 193.5C44.5 196.5 53.9 200.8 63.5 198C65.5 190 74 168.5 81 149.5V140.5C79.5 138 76.5 127.5 76 125Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="elbow" @click="getPart($event)">
					<path
						d="M193.5 221.5C192.5 214.5 191 208 188.5 198C196.5 200.5 206.5 197.5 209.5 193.5C211.5 199.5 215 206 218.5 215.5C216.5 218.5 208.7 223.9 193.5 221.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="elbow" @click="getPart($event)">
					<path
						d="M58.5 221.5C59.5 214.5 61 208 63.5 198C55.5 200.5 45.5 197.5 42.5 193.5C40.5 199.5 37 206 33.5 215.5C35.5 218.5 43.3 223.9 58.5 221.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower arm" @click="getPart($event)">
					<path
						d="M213 270.5C210.6 264.1 197.5 240 193.5 221.5C201.5 222.5 213.5 222 218.5 215.5C224.792 232.578 223.5 262 231 272.5C229 282.5 217 281.5 216 278.5C215.2 276.1 213.667 272.167 213 270.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="lower arm" @click="getPart($event)">
					<path
						d="M39 270.5C41.4 264.1 54.5 240 58.5 221.5C50.5 222.5 38.5 222 33.5 215.5C27.2081 232.578 28.5 262 21 272.5C23 282.5 35 281.5 36 278.5C36.8 276.1 38.3333 272.167 39 270.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hand" @click="getPart($event)">
					<path
						d="M217 287C216.5 284 216.5 281 216 278.5C216.5 279.5 220 281.5 224.5 280C229 278 230 276 231 272.5C233.5 273.5 240.5 275.5 243 277.5C245.5 279.5 246.5 279.5 248 280.5C249.2 281.3 250.5 283.5 251 284.5C251.667 285.5 252.4 287.6 250 288C247 288.5 245.58 286.387 243.5 285C242 284 240.667 283.667 240 284C239.833 284.5 239.8 286.2 241 289C243.5 294.5 242.5 294.5 242.5 296.5C242.5 298.5 243.5 300.5 244 303C244.5 305.5 243.5 307.5 244 311C244.4 316.2 243.5 317.833 243 318C242.5 318.167 241.4 318.2 241 317C240 316.5 239.5 311 239 308.5C238.5 306 238 303.5 237 301C237 303 238 305 238.5 309C239 313 239 315 239 317C239.5 319 240 322 239.5 323C239.5 324.5 238.5 325 238 325C237.5 325 237 325 236.5 324C235.5 323.5 234.5 320 234.5 318C234.5 316 233 310.5 232.5 309C232 307.5 232 302.5 231.5 302.5C231 302.5 231 303.5 231 304.5C231.5 307 231.5 309.316 231.5 314C231.5 315.5 233 320 232 322C232 323.2 231 323.5 230.5 323.5C230.167 323.5 229.5 323.3 229.5 322.5C228.5 322 227.5 318.5 227.5 317C227.5 315.5 226 311 226 308C226 302.5 225 301.5 224.5 301C224 301.5 224.5 304.5 224.5 305.5C224.5 306.5 225.5 308.5 225.5 310.5C227 313.5 226.5 315 226 315.5C226 316.3 225.667 316.5 225.5 316.5C225.167 316.667 224.4 316.8 224 316C223.5 315.5 222.5 313.5 222 312C221.5 310.5 221.5 310 221 309C220.5 308 220.5 306.5 220 304.5C219.5 302.5 218.5 301 218 299.5C217.5 298 218.5 295 218 293C217.6 291.4 217.167 288.333 217 287Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hand" @click="getPart($event)">
					<path
						d="M34.6523 287C35.1523 284 35.1523 281 35.6523 278.5C35.1523 279.5 31.6523 281.5 27.1523 280C22.6523 278 21.6523 276 20.6523 272.5C18.1523 273.5 11.1523 275.5 8.65234 277.5C6.15234 279.5 5.15234 279.5 3.65234 280.5C2.45234 281.3 1.15234 283.5 0.652344 284.5C-0.0143242 285.5 -0.747658 287.6 1.65234 288C4.65234 288.5 6.07222 286.387 8.15234 285C9.65234 284 10.9857 283.667 11.6523 284C11.819 284.5 11.8523 286.2 10.6523 289C8.15234 294.5 9.15234 294.5 9.15234 296.5C9.15234 298.5 8.15234 300.5 7.65234 303C7.15234 305.5 8.15234 307.5 7.65234 311C7.25234 316.2 8.15234 317.833 8.65234 318C9.15234 318.167 10.2523 318.2 10.6523 317C11.6523 316.5 12.1523 311 12.6523 308.5C13.1523 306 13.6523 303.5 14.6523 301C14.6523 303 13.6523 305 13.1523 309C12.6523 313 12.6523 315 12.6523 317C12.1523 319 11.6523 322 12.1523 323C12.1523 324.5 13.1523 325 13.6523 325C14.1523 325 14.6523 325 15.1523 324C16.1523 323.5 17.1523 320 17.1523 318C17.1523 316 18.6523 310.5 19.1523 309C19.6523 307.5 19.6523 302.5 20.1523 302.5C20.6523 302.5 20.6523 303.5 20.6523 304.5C20.1523 307 20.1523 309.316 20.1523 314C20.1523 315.5 18.6523 320 19.6523 322C19.6523 323.2 20.6523 323.5 21.1523 323.5C21.4857 323.5 22.1523 323.3 22.1523 322.5C23.1523 322 24.1523 318.5 24.1523 317C24.1523 315.5 25.6523 311 25.6523 308C25.6523 302.5 26.6523 301.5 27.1523 301C27.6523 301.5 27.1523 304.5 27.1523 305.5C27.1523 306.5 26.1523 308.5 26.1523 310.5C24.6523 313.5 25.1523 315 25.6523 315.5C25.6523 316.3 25.9857 316.5 26.1523 316.5C26.4857 316.667 27.2523 316.8 27.6523 316C28.1523 315.5 29.1523 313.5 29.6523 312C30.1523 310.5 30.1523 310 30.6523 309C31.1523 308 31.1523 306.5 31.6523 304.5C32.1523 302.5 33.1523 301 33.6523 299.5C34.1523 298 33.1523 295 33.6523 293C34.0523 291.4 34.4857 288.333 34.6523 287Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="buttocks" @click="getPart($event)">
					<path
						d="M77.0025 272C79.0025 258 84.5025 242.167 87.0025 236C95.5 236 112 247.5 127 248.5C127 248.5 127.259 261.574 126.5 282.5C126.168 291.646 126.216 302.291 125 314C121.5 325 108.002 329.545 98.0025 330C87.0025 330.5 68.9999 322.5 69.5025 313.5C70.283 299.522 74.5025 289.5 77.0025 272Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="buttocks" @click="getPart($event)">
					<path
						d="M174.849 272C172.849 258 167 242.167 164.5 236C154 237 139.5 248.5 127 248.5C127 248.5 127 263 126.5 283.5C126.515 292.646 126.288 302.291 126.852 314C130.352 325 143.849 329.545 153.849 330C164.849 330.5 182.852 322.5 182.349 313.5C181.569 299.522 177.349 289.5 174.849 272Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="anus" @click="getPart($event)">
					<path
						d="M118.5 309.5C118.5 306 122.5 283.5 126.5 283.5C130.5 283.5 133 305.5 133 309.5C133 312 130.5 314 126 314C121.5 314 118.5 312.193 118.5 309.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hamstring" @click="getPart($event)">
					<path
						d="M74.4986 378.5C74.083 361.498 68.4986 333.5 69.4986 315.5C75.0974 325.9 88.8324 329.5 95 330C100.833 330.167 114.1 328.6 120.5 321C121.5 337.5 117 349 115 361C112.75 374.5 114 410 110.5 432.5C109.88 436.483 109 439.5 107.5 445C99.5 439.5 82 442.5 78.9984 443.5C79.3972 439.9 79.1646 432 78.9984 428.5C78.9984 420 74.9996 399 74.4986 378.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="hamstring" @click="getPart($event)">
					<path
						d="M177.146 378.5C177.562 361.498 183.146 333.5 182.146 315.5C176.547 325.9 162.812 329.5 156.645 330C150.811 330.167 137.545 328.6 131.145 321C130.145 337.5 134.645 349 136.645 361C138.895 374.5 137.645 410 141.145 432.5C141.764 436.483 142.645 439.5 144.145 445C152.145 439.5 169.645 442.5 172.646 443.5C172.247 439.9 172.48 432 172.646 428.5C172.646 420 176.645 399 177.146 378.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="calf" @click="getPart($event)">
					<path
						d="M76.006 466C76.006 458 78.506 449 79.006 443.5C85.0051 441.5 101.005 440 107.505 445C107.105 448.6 107.005 453.166 107.005 455C106.605 461.4 108.62 471.5 109.005 481.5C109.405 491.9 106.005 504.5 104.505 515C102.338 527 98.0051 550.5 99.5051 560.5C91.5051 566.1 84.5051 563.833 82.0051 562C82.0051 560.5 81.8051 555.5 81.0051 547.5C80.0051 537.5 76 515 75.506 498C75.2965 490.792 75.6726 473.666 76.006 466Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="calf" @click="getPart($event)">
					<path
						d="M176.033 465.999C176.033 457.999 173 449 172.5 443.5C166.501 441.5 150.5 440 144 445C144.4 448.6 145.034 453.166 145.034 454.999C145.434 461.399 143.419 471.499 143.034 481.499C142.634 491.899 146.034 504.499 147.534 514.999C149.701 526.999 154.034 550.499 152.534 560.499C160.534 566.099 167.534 563.833 170.034 561.999C170.034 560.499 170.234 555.499 171.034 547.499C172.034 537.499 176.039 514.999 176.533 497.999C176.743 490.791 176.367 473.666 176.033 465.999Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ankle" @click="getPart($event)">
					<path
						d="M81 573.5C81 571.5 82.5 569 82 562C88.5 566 95 563.5 99.5 560.5C100 566 101 566.674 101 569.5C101 573.5 99 575 99 577.5C96 582 84.5 580 82 580C82 578.5 81 575.5 81 573.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="ankle" @click="getPart($event)">
					<path
						d="M171.039 573.5C171.039 571.5 169.539 569 170.039 562C163.539 566 157.039 563.5 152.539 560.5C152.039 566 151.039 566.674 151.039 569.5C151.039 573.5 152.5 575 152.5 577.5C155.5 582 167.539 580 170.039 580C170.039 578.5 171.039 575.5 171.039 573.5Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="foot" @click="getPart($event)">
					<path
						d="M97.9999 589.502C98.4243 586.532 99.4999 581.502 98.9999 577.502C96 582 85 580 82 580C82 578 81 575 81 573C79.5 573 78.5 573.5 78 574.502C75.6 574.102 74.6667 575.668 74.5 576.502C74.1667 576.502 73.2997 576.602 72.4985 577.002C70.4985 578.602 71.6661 580.668 72.4999 581.502C72.3332 582.168 72.1999 583.802 72.9999 585.002C73.7999 586.202 75.9999 588.502 76.9999 589.502C79 592 78.5 593.5 80.5 596.5C83.2456 600.618 86.5 600.5 90.5 600.5C97.5 600.5 97.5 593 97.9999 589.502Z"
						fill="#197FA0"
					/>
				</g>
				<g class="part" id="foot" @click="getPart($event)">
					<path
						d="M153.5 589.5C153.076 586.53 152 581.5 152.5 577.5C155.5 581.998 167.126 580 170.126 580C170.126 578 171 575.5 171 573.5C172.5 573.5 173 573.998 173.5 575C175 574.5 176.833 575.667 177 576.5C177.333 576.5 178.5 576 179.5 577.5C180 579.5 179.5 580.5 179 581C179.167 581.667 179.109 583.583 178.497 584.5C177.697 585.7 175.997 588 174.997 589C172.997 591.498 173.497 592.5 171.497 595.5C168.752 599.618 165.626 600.5 161.626 600.5C154.626 600.5 154 592.998 153.5 589.5Z"
						fill="#197FA0"
					/>
				</g>
			</svg>

			<SearchDropDown
				v-if="view === 'rare' && deviceWidth > 600"
				:list="symptomNames"
				:isDropOpen="showList"
				:absPos="listPos"
				:is-loading="isloading"
				:partName="selectedPart"
				v-model:search-input="searchQuery"
				@selected-value="selectedSymptom"
				@focused="setFocus"
			/>
		</div>
	</div>

	<SearchDropDown
		v-if="deviceWidth <= 600"
		:list="symptomNames"
		:isDropOpen="showList"
		:absPos="listPos"
		:is-loading="isloading"
		:partName="selectedPart"
		v-model:search-input="searchQuery"
		@selected-value="selectedSymptom"
		@focused="setFocus"
	/>
</template>

<script>
import axios from "axios";
import ButtonSec from "@/components/buttons/button-secondary.vue";
import SearchDropDown from "@/components/Health-checkup/drop-down-list-search.vue";

export default {
	name: "Full Body Avatar: Female",

	emits: ["selected-symptom"],

	components: {
		ButtonSec,
		SearchDropDown,
	},

	props: {
		age: {
			type: String,
			required: true,
			default: "25",
		},
	},

	data() {
		return {
			view: "front",
			symptomList: [],
			searchQuery: "",
			showList: false,
			listPos: {},
			isloading: false,
			selectedPart: null,
			isFocused: false,
		};
	},

	computed: {
		// Base list of symptoms by name
		symptomNames() {
			const symptoms = [];

			// Cycle throgh array and extract symptom names
			this.symptomList.forEach((item) => {
				symptoms.push(item.label);
			});

			// Return array of symptom names
			return symptoms;
		},

		deviceWidth() {
			// Get device width
			return window.innerWidth > 0 ? window.innerWidth : screen.width;
		},
	},

	methods: {
		// Switch avatar view
		rotateAvatar() {
			switch (this.view) {
				case "front":
					this.view = "rare";
					break;

				case "rare":
					this.view = "front";
					break;
			}
		},

		// Get clicked body part
		getPart(evt) {
			console.log(evt);
			const gParent = evt.target.parentNode.parentNode;
			const partId = evt.target.parentNode.id;
			const ggParent = evt.target.parentNode.parentNode.parentNode;

			// Remove active state from previously selected body part
			Object.keys(gParent.children).forEach((key) => {
				if (gParent.children[key].classList.contains("active")) {
					gParent.children[key].classList.remove("active");
				}
			});

			// Add active state to currently selected body part
			evt.target.parentNode.classList.add("active");

			// Call funtion to calculate position of list component
			this.calcPosition(evt.target.closest(".part"), ggParent);

			// Call function to get list of symptoms from database
			this.getSymptoms(partId);
			this.selectedPart = partId;
		},

		calcPosition(part, root) {
			// Get dimensions of selected part
			const partRec = part.getBoundingClientRect();
			// Get dimensions of reference (root) container
			const parentRec = root.getBoundingClientRect();
			// Calculate left position
			const left = partRec.right - parentRec.left + 10;
			// Calculate bottom position
			const bottom = parentRec.bottom - partRec.bottom;
			// calculate top position
			const top = partRec.top - parentRec.top;

			if (["thigh", "knee", "ankle", "lower leg", "foot"].includes(part.id)) {
				// Assign position values to style variable
				this.listPos = {
					left: `${left}px`,
					bottom: `${bottom}px`,
				};
			} else {
				// Assign position values to style variable
				this.listPos = {
					left: `${left}px`,
					top: `${top}px`,
				};
			}

			this.showList = true; // Show list component
		},

		// Function to get list of symptoms for a selected body part
		async getSymptoms(part) {
			this.isloading = true; // Set system status to loading

			let res = await axios.get("health-checkup/search", {
				params: {
					phrase: part,
					age: this.age,
					sex: "female",
				},
			});

			// Reset symptom list and add new symptoms to list
			this.symptomList = [];
			res.data.data.forEach((item) => {
				this.symptomList.push(item);
			});

			this.isloading = false; // Set system status to loaded
		},

		selectedSymptom(i) {
			// Emit selected symptom to parent component
			this.$emit("selected-symptom", this.symptomList[i]);

			// Set focus value for drop list search input to "false"
			this.isFocused = false;
		},

		setFocus(val) {
			// Set focus value for drop list search input to "true"
			this.isFocused = val;
		},

		clickOutside(evt) {
			if (this.showList && !this.$refs.avatar.contains(evt.target) && !this.isFocused) {
				const elObj = this.$refs.avatar.children;

				Object.keys(elObj).forEach((key) => {
					if (elObj[key].classList.contains("active")) {
						elObj[key].classList.remove("active");
					}
				});

				this.showList = false;
			}
		},
	},

	mounted() {
		document.addEventListener("click", this.clickOutside);
	},

	beforeUnmount() {
		document.removeEventListener("click", this.clickOutside);
	},
};
</script>

<style lang="scss" scoped>
.body-avatar {
	position: relative;
	width: max-content;
	padding: $size-24;

	@include responsive(phone) {
		width: 100%;
		padding: 0;
	}

	#rotate {
		@include absolutePosition(custom) {
			left: $size-10;
			top: $size-10;
			z-index: 1;
		}
	}

	& .rotate-btn {
		@include absolutePosition(custom) {
			left: $size-10;
			top: $size-10;
			z-index: 1;
		}
	}

	&__front,
	&__back {
		@include flexItem(horizontal) {
			align-items: center;
			justify-content: center;
			padding: $size-12;
			position: relative;

			@include responsive(phone) {
				transform: scale(0.8);
				margin-top: -80px;
				padding: 0;
			}
		}

		.body {
			&__parts {
				@include absolutePosition(abs-center);
				mix-blend-mode: hard-light;

				.part {
					opacity: 0;

					@include responsive(tab-portrait) {
						opacity: 0.6;
						& > * {
							fill: none;
							stroke: $color-sec-s2;
							stroke-width: $size-1;
						}
					}

					&.active {
						opacity: 1;
					}

					&:hover {
						opacity: 1;
					}
				}
			}
		}
	}
}
</style>
